<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../../components/head'); %>
        <title>Studors - Admin</title>
</head>

<style>
    #apiKey {
        display: flex;
        align-items: center;
    }
    #apiKey p {
        color: blueviolet;
    }
</style>

<body>
    <div id="flex-box">
        <%- include('../../components/header'); %>
            <div id="holder">
                <div id="settings-box">
                    <div id="apiKey">
                        <p>API KEY: <%= user.api_key %>
                        </p>
                        <form method="post" action="apiReset">
                            <button class="button" onclick="if(confirm('Are you sure?\nResetting will require you to replace any API keys in any applications that you use. For example google sheets.')){}else{return false;};" type="submit">Reset</button>
                        </form>
                    </div>
                    <form action="" method="post">
                        <label for="phone">Phone:</label>
                        <input type="tel" id="phone" name="phone"
                            pattern="^([2-9][0-8][0-9])[-]([2-9][0-9]{2})[-]([0-9]{4})$" value="<%=user.phone %>"
                            placeholder="800-555-0101"
                            oninvalid="setCustomValidity('Please enter a phone number with this style: ###-###-####')"
                            oninput="setCustomValidity('')">
                        <br>
                        <br>
                        <label for="dark_theme">Dark Mode:</label>
                        <input type="checkbox" id="dark_theme" name="dark_theme" <%=user.dark_theme ? "checked" : "" %>>
                        <br>
                        <p id="small-error">
                            <%=error %>
                        </p>
                        <button type="submit">Save</button>
                    </form>
                </div>
            </div>
            <%- include('../../components/footer'); %>
    </div>
</body>

</html>